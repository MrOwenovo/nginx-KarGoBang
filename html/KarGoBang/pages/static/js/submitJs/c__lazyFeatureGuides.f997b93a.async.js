(window.webpackJsonp=window.webpackJsonp||[]).push([[1159,173],{1444:function(e,t,r){"use strict";var n={FEATURES:[{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"WIKI_PAGE",enable:!0,type:"custom",tip_id:"feature_org_wiki_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-10-27"},{area:"GARDEN_PAGE",enable:!0,type:"custom",tip_id:"feature_garden_introduce",tip:__("功能说明"),createdAt:"2022-11-17"}]},i=r(39),a=r(174),o=n.FEATURES,u={readLiteFeatureGuide:function(e){if("function"==typeof navigator.sendBeacon){var t=new URLSearchParams;t.set("ctoken",Object(a.a)(window)),t.set("type",e.tip_id),navigator.sendBeacon("/api/mine/read_guide?".concat(t.toString()))}else i.a.mine.readGuide({type:e.tip_id});var r=e.containerSelector&&document.querySelector(e.containerSelector);if(r){var n=r.querySelector(".larkui-feature-guide");if(!n)return;n.style.display="none"}},readMiniFeatureGuide:function(e,t){var r=e.tip_id;i.a.mine.readGuide({type:r}),t({type:"guide/readFeatureGuide",payload:{tip_id:r}})},findFeatureGuide:function(e){var t=e.tip_id,r=e.type;return o.find((function(e){return e.tip_id===t&&e.type===r}))},needDisplayGuide:function(e){if("#guide"===window.location.hash)return!0;var t=window.appData.readTip;return!t||!t[e]}};u.FEATURES=o;t.a=u},2784:function(e,t,r){"use strict";r(114);var n=r(36),i=r(0),a=r.n(i),o=r(8),u=r.n(o),l=r(33),c=r.n(l),s=r(740);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,u=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return a.a.createElement("span",{className:"larkui-feature-guide-sign",style:t,onClick:e,"data-testid":"feature-guide-sign"},a.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-outer"}),a.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-inner"}))}function v(e){var t=e.type,r=void 0===t?"lite":t,o=e.tip,u=e.enableMultiLines,l=e.guideSignContainerStyle,d=y(Object(i.useState)(!0),2),f=d[0],m=d[1];if(!f)return null;var g=document.querySelector(e.containerSelector);if(!g)return null;var v=function(){m(!1),e.onRead()},h=function(){var t=g.querySelector(".larkui-feature-guide");if(t)return t;(t=document.createElement("div")).classList.add("larkui-feature-guide");if(t.classList.add({lite:"larkui-feature-guide-lite",mini:"larkui-feature-guide-mini",custom:"larkui-feature-guide-custom"}[r]),t.setAttribute("data-testid","feature-guide"),["lite","custom"].includes(r)){g.style.position="relative";var n=g.getBoundingClientRect();switch(e.placement){case"right":t.style.left="".concat(n.width+2,"px");break;case"left":t.style.left="-14px";break;case"top":t.style.bottom="".concat((e.offsetY?parseInt(e.offsetY,10):0)+n.height,"px"),t.style.left="".concat(n.width/2-6,"px");break;default:t.style.left="".concat((n.width-12)/2,"px"),t.style.bottom=e.offsetY||"0"}e.styleFix&&e.styleFix(t)}var i=e.readTrigger||[],a=function t(r){r.target.closest(".larkui-feature-guide")&&(r.preventDefault(),r.stopPropagation()),m(!1),e.onRead(),i.forEach((function(r){g.removeEventListener(r,e.closeGuide||t)}))};return i.forEach((function(t){g.addEventListener(t,e.closeGuide||a)})),g.appendChild(t),t}(),w=b(v,l),S=u?"larkui-feature-guide-lite-close-multi-line":"larkui-feature-guide-lite-close";if("mini"===r)return c.a.createPortal(w,h);var E="center"!==e.placement&&"top"!==e.placement;return"custom"===r?c.a.createPortal(a.a.createElement(e.customRender,p(p({},e),{},{sign:w,visible:f,arrowPointAtCenter:E,portalDom:h,onReadGuide:v,setVisible:m})),h):"lite"===r?c.a.createPortal(a.a.createElement(n.a,{overlayClassName:"larkui-feature-guide-lite-tip",arrowPointAtCenter:E,autoAdjustOverflow:!1,defaultVisible:!0,title:a.a.createElement(a.a.Fragment,null,u?a.a.createElement("div",{className:"larkui-feature-guide-content",onClick:v},o):a.a.createElement("span",{className:"larkui-feature-guide-lite-content"},a.a.createElement("strong",null,o)),a.a.createElement("span",{onClick:v,className:S},a.a.createElement(s.default,{width:16,height:16}))),placement:e.placement,visible:f,align:{targetOffset:[0,4]}},w),h):void 0}v.Mini=function(){return a.a.createElement("span",{className:"larkui-feature-guide-mini","data-testid":"standalone-mini-guide"},b((function(){})))},v.defaultProps={enableMultiLines:!1},v.propTypes={type:u.a.oneOf(["lite","mini","custom"]),tip:u.a.oneOfType([u.a.string,u.a.node]),containerSelector:u.a.string.isRequired,readTrigger:u.a.array,placement:u.a.oneOf(["bottomRight","bottomLeft","bottom","right","left","top"]),offsetY:u.a.string,onRead:u.a.func.isRequired,guideSignContainerStyle:u.a.object,enableMultiLines:u.a.bool,customRender:u.a.element,styleFix:u.a.func,closeGuide:u.a.func};t.a=v},5123:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(414),o=r(97),u=r.n(o),l=r(1444),c=r(196),s=r(2784);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,u=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=new u.a("sys:guide");t.default=Object(c.b)(Object(a.d)((function(e){return{guide:e.guide,me:e.me}}))((function(e){var t=e.guide,r=e.me,a=new Date(r.created_at).getTime(),o=l.a.FEATURES.filter((function(e){var t=!!e.enable,r=new Date(e.createdAt).getTime()>=a;return t&&r})),u=d(Object(n.useState)(!1),2),c=u[0],f=u[1];return Object(n.useEffect)((function(){setTimeout((function(){f(!0)}),1e3)}),[]),c?i.a.createElement(i.a.Fragment,null,o.map((function(r){if(p("process:","".concat(r.area,"_").concat(r.tip_id)),a=r.tip_id,"#guide"===window.location.hash||!t.readTip[a]){var n=r.containerSelector||'[data-feature-guide-portal="'.concat(r.tip_id,'"]');return p("selector to show guide",n),i.a.createElement("span",{key:r.tip_id,"data-testid":r.tip_id},i.a.createElement(s.a,{type:r.type,placement:r.placement,tip:r.tip,offsetY:r.offsetY,containerSelector:n,readTrigger:r.readTrigger||[],guideSignContainerStyle:r.guideSignContainerStyle,onRead:function(){!function(t){"lite"===t.type?l.a.readLiteFeatureGuide(t):l.a.readMiniFeatureGuide(t,e.dispatch)}(r)},customRender:r.customRender,styleFix:r.styleFix,enableMultiLines:r.enableMultiLines,closeGuide:r.closeGuide}))}var a;return p("guide already read, just render empty node"),i.a.createElement("span",{key:"".concat(r.tip_id,"-").concat(r.area),"data-testid":r.tip_id,"data-feature-guide-read":r.tip_id})}))):null})),!1)},740:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-close",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M34.41 34.499c3.906-3.905 10.238-3.905 14.143 0l79.903 79.902 79.903-79.902c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142l-79.903 79.903 79.903 79.903c3.834 3.834 3.904 10.008.21 13.927l-.21.215c-3.905 3.906-10.237 3.906-14.142 0l-79.903-79.903-79.903 79.903c-3.905 3.906-10.237 3.906-14.142 0-3.906-3.905-3.906-10.237 0-14.142l79.902-79.903L34.41 48.641c-3.835-3.834-3.904-10.007-.21-13.927Z",fill:"currentColor",fillRule:"evenodd"}))}}]);